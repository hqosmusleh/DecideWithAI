<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DecideWithAI</title>
</head>
<body>
    <h1>Decide With AI</h1>
    <input type="text" id="decisionInput" placeholder="Enter your decision">
    <button id="generateBtn">Generate with AI</button>
    <p id="result"></p>

    <script>
        const generateBtn = document.getElementById("generateBtn");
        const decisionInput = document.getElementById("decisionInput");
        const resultEl = document.getElementById("result");

        generateBtn.addEventListener("click", async () => {
            const decision = decisionInput.value;
            if (!decision) {
                resultEl.textContent = "Please enter a decision.";
                return;
            }

            resultEl.textContent = "Thinking...";

            try {
                const formData = new FormData();
                formData.append("decision", decision);

                const response = await fetch("/generate", {
                    method: "POST",
                    body: formData
                });

                const data = await response.json();

                if (data.error) {
                    resultEl.textContent = data.error;
                } else {
                    resultEl.textContent = data.response;
                }
            } catch (err) {
                resultEl.textContent = "Error contacting server.";
                console.error(err);
            }
        });
    </script>
</body>
</html>
        });
    </script>
</body>
</html>
